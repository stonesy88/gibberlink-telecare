import { PostHog } from 'posthog-node';
import OpenAIOrignal from 'openai';
import AnthropicOriginal from '@anthropic-ai/sdk';
type ChatCompletionCreateParamsBase = OpenAIOrignal.Chat.Completions.ChatCompletionCreateParams;
type MessageCreateParams = AnthropicOriginal.Messages.MessageCreateParams;
export interface MonitoringParams {
    posthogDistinctId?: string;
    posthogTraceId?: string;
    posthogProperties?: Record<string, any>;
    posthogPrivacyMode?: boolean;
    posthogGroups?: Record<string, any>;
    posthogModelOverride?: string;
    posthogProviderOverride?: string;
    posthogCostOverride?: CostOverride;
}
export interface CostOverride {
    inputCost: number;
    outputCost: number;
}
export declare const getModelParams: (params: ((ChatCompletionCreateParamsBase | MessageCreateParams) & MonitoringParams) | null) => Record<string, any>;
/**
 * Helper to format responses (non-streaming) for consumption, mirroring Python's openai vs. anthropic approach.
 */
export declare const formatResponse: (response: any, provider: string) => Array<{
    role: string;
    content: string;
}>;
export declare const formatResponseAnthropic: (response: any) => Array<{
    role: string;
    content: string;
}>;
export declare const formatResponseOpenAI: (response: any) => Array<{
    role: string;
    content: string;
}>;
export declare const mergeSystemPrompt: (params: MessageCreateParams & MonitoringParams, provider: string) => any;
export declare const withPrivacyMode: (client: PostHog, privacyMode: boolean, input: any) => any;
export type SendEventToPosthogParams = {
    client: PostHog;
    distinctId?: string;
    traceId: string;
    model: string;
    provider: string;
    input: any;
    output: any;
    latency: number;
    baseURL: string;
    httpStatus: number;
    usage?: {
        inputTokens?: number;
        outputTokens?: number;
    };
    params: (ChatCompletionCreateParamsBase | MessageCreateParams) & MonitoringParams;
    isError?: boolean;
    error?: string;
};
export declare const sendEventToPosthog: ({ client, distinctId, traceId, model, provider, input, output, latency, baseURL, params, httpStatus, usage, isError, error, }: SendEventToPosthogParams) => void;
export {};
